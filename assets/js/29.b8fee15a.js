(window.webpackJsonp=window.webpackJsonp||[]).push([[29],{436:function(s,a,t){"use strict";t.r(a);var n=t(2),e=Object(n.a)({},(function(){var s=this,a=s._self._c;return a("ContentSlotsDistributor",{attrs:{"slot-key":s.$parent.slotKey}},[a("h1",{attrs:{id:"网络工程设计"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#网络工程设计"}},[s._v("#")]),s._v(" 网络工程设计")]),s._v(" "),a("h2",{attrs:{id:"环境支持"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#环境支持"}},[s._v("#")]),s._v(" 环境支持")]),s._v(" "),a("h4",{attrs:{id:"软件"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#软件"}},[s._v("#")]),s._v(" 软件")]),s._v(" "),a("blockquote",[a("ol",[a("li",[s._v("Packet tracer与汉化包\n链接:\nhttps://pan.baidu.com/s/18b0pfO0WqVoa5laPL-HjZw 提取码: qnh6\n将Chinese.ptl 文件放到 C:\\Program\nFiles\\Cisco Packet Tracer 7.3.1\\languages 目录")]),s._v(" "),a("li",[s._v("eNSP\n链接：\nhttps://pan.baidu.com/s/160T8W7_gECGN09ZZAn0vGw 提取码：3x87")]),s._v(" "),a("li",[s._v("视频合并\n链接:\nhttps://pan.baidu.com/s/1LG1ICRUtL6OgQeINFNbuQ 提取码: 96yk")])])]),s._v(" "),a("h4",{attrs:{id:"文档"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#文档"}},[s._v("#")]),s._v(" 文档")]),s._v(" "),a("blockquote",[a("ol",[a("li",[s._v("实验指导\ni. 链接:\nhttps://pan.baidu.com/s/1Kh8FzJ5o2Pkd55yfdAOA-w 提取码: cvz2")]),s._v(" "),a("li",[s._v("华为USG5500防火墙产品文档\ni. 链接:\nhttps://pan.baidu.com/s/1H9opd5RHmm_JjQOKP3oSOQ 提取码: fjgc")])])]),s._v(" "),a("h2",{attrs:{id:"实验1-1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实验1-1"}},[s._v("#")]),s._v(" 实验1.1")]),s._v(" "),a("h3",{attrs:{id:"交换机物理接口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#交换机物理接口"}},[s._v("#")]),s._v(" 交换机物理接口")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://gss0.baidu.com/9vo3dSag_xI4khGko9WTAnF6hhy/zhidao/wh%3D600%2C800/sign=3b2bb171d4f9d72a1731181be41a040c/f9198618367adab46b8ace0d86d4b31c8701e422.jpg",alt:"console"}})]),s._v(" "),a("p",[a("img",{attrs:{src:"https://p1.ssl.qhimg.com/t011ba89fb1f96dfcd1.jpg",alt:"console"}})]),s._v(" "),a("h3",{attrs:{id:"基本操作"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基本操作"}},[s._v("#")]),s._v(" 基本操作")]),s._v(" "),a("h4",{attrs:{id:"huawei-ensp"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#huawei-ensp"}},[s._v("#")]),s._v(" Huawei eNSP")]),s._v(" "),a("ol",[a("li",[a("p",[a("strong",[s._v("视图切换")])]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("视图")]),s._v(" "),a("th",[s._v("提示符")]),s._v(" "),a("th",[s._v("进入命令")]),s._v(" "),a("th",{staticStyle:{"text-align":"center"}},[s._v("退出命令")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("用户视图")]),s._v(" "),a("td",[s._v("Huawei")]),s._v(" "),a("td",[s._v("与交换机建立连接即进入")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("quit")])]),s._v(" "),a("tr",[a("td",[s._v("系统视图")]),s._v(" "),a("td",[s._v("[Huawei]")]),s._v(" "),a("td",[s._v("用户视图下键入system-view")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("quit return")])]),s._v(" "),a("tr",[a("td",[s._v("以太网端口视图")]),s._v(" "),a("td",[s._v("[Huawei-Ethernet1/0/1]")]),s._v(" "),a("td",[s._v("系统视图下键入interface ethernet  1/0/1")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("quit return")])]),s._v(" "),a("tr",[a("td",[s._v("VLAN视图")]),s._v(" "),a("td",[s._v("[Huawei-vlan1]")]),s._v(" "),a("td",[s._v("系统视图下键入vlan 1")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("quit return")])]),s._v(" "),a("tr",[a("td",[s._v("VLAN接口视图")]),s._v(" "),a("td",[s._v("[Huawei-Vlanif1]")]),s._v(" "),a("td",[s._v("系统视图下键入interface Vlanif 1")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("quit return")])])])])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("错误信息")])]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("英文错误信息")]),s._v(" "),a("th",[s._v("错误原因")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("Unrecognized command")]),s._v(" "),a("td",[s._v("没有查找到命令    没有查找到关键字   参数类型错    参数值越界")])]),s._v(" "),a("tr",[a("td",[s._v("Incomplete command")]),s._v(" "),a("td",[s._v("输入命令不完整")])]),s._v(" "),a("tr",[a("td",[s._v("Too many parameters")]),s._v(" "),a("td",[s._v("输入参数太多")])]),s._v(" "),a("tr",[a("td",[s._v("Ambiguous command")]),s._v(" "),a("td",[s._v("输入参数不明确")])]),s._v(" "),a("tr",[a("td",[s._v("Wrong parameter found at '^' position")]),s._v(" "),a("td",[s._v("在'^'所指的位置发现错误的参数")])])])])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("完全帮助   ?")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<Huawei> ?\n<Huawei> clock ?\n[Huawei] interface Vlanif ?\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("p",[s._v("键入命令的某个关键字的前几个字母，按下Tab键，如果以输入字母开头的关键字唯一，用户终端屏幕上会显示出完整的关键字；如果与输入字母匹配的关键字不唯一，则终端屏幕依次显示字母匹配的关键字。")])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("常用命令")])])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<Huawei> system-view\t\t\t进入系统试图\n[Huawei] sysname s1\t\t\t\t修改设备名为 s1\n[Huawei] display version \t\t\t查看IOS版本、板卡型号\n[Huawei] display interface brief\t查看设备端口编号\n[Huawei] display brief interface\t同上\n[Huawei] display interface Ethernet 0/0/1\t显示0/0/1端口信息\n[Huawei] display clock\t\t\t显示当前设备时间\n<Huawei> clock datetime HH:MM:SS YYYY/MM/DD\t修改当前设备时间\n[Huawei] display current-configuration\t\t显示当前设备所有配置信息\n[Huawei] display saved-configuration\t\t显示当前设备保存的配置信息\n<Huawei> save \t\t\t\t\t保存配置信息\n<Huawei> reset saved-configuration \t\t\t清除当前设备保存的配置信息\n<Huawei> reboot\t\t\t\t\t设备重启\n[Huawei] display this\t\t\t查看当前配置过的命令\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("h4",{attrs:{id:"cisco-packet-tracer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#cisco-packet-tracer"}},[s._v("#")]),s._v(" Cisco Packet Tracer")]),s._v(" "),a("blockquote",[a("p",[a("a",{attrs:{href:"https://blog.csdn.net/VariatioZbw/article/details/108212741",target:"_blank",rel:"noopener noreferrer"}},[s._v("【思科交换机模拟器命令大全】_code_zbw-CSDN博客"),a("OutboundLink")],1)])]),s._v(" "),a("ol",[a("li",[a("p",[a("strong",[s._v("视图切换")])]),s._v(" "),a("table",[a("thead",[a("tr",[a("th",[s._v("视 图")]),s._v(" "),a("th",[s._v("提示符")]),s._v(" "),a("th",[s._v("进入命令")]),s._v(" "),a("th",{staticStyle:{"text-align":"center"}},[s._v("退出命令")])])]),s._v(" "),a("tbody",[a("tr",[a("td",[s._v("用户模式")]),s._v(" "),a("td",[s._v("Switch>")]),s._v(" "),a("td",[s._v("与交换机建立连接即进入")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("exit  logout")])]),s._v(" "),a("tr",[a("td",[s._v("特权模式")]),s._v(" "),a("td",[s._v("Switch#")]),s._v(" "),a("td",[s._v("用户模式键入enable")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("exit  logout")])]),s._v(" "),a("tr",[a("td",[s._v("全局模式")]),s._v(" "),a("td",[s._v("Switch(config)#")]),s._v(" "),a("td",[s._v("特权模式键入configure terminal")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("exit  end")])]),s._v(" "),a("tr",[a("td",[s._v("端口模式")]),s._v(" "),a("td",[s._v("Switch(config-if)#")]),s._v(" "),a("td",[s._v("全局模式键入interface fastEthernet 0/1")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("exit  end")])]),s._v(" "),a("tr",[a("td",[s._v("VLAN模式")]),s._v(" "),a("td",[s._v("Switch(config-vlan)#")]),s._v(" "),a("td",[s._v("全局模式键入vlan 2")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("exit  end")])]),s._v(" "),a("tr",[a("td",[s._v("VLAN接口模式")]),s._v(" "),a("td",[s._v("Switch(config-if)#")]),s._v(" "),a("td",[s._v("全局模式键入interface vlan 1")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("exit  end")])]),s._v(" "),a("tr",[a("td",[s._v("线路配置模式")]),s._v(" "),a("td",[s._v("Switch(config-line)#")]),s._v(" "),a("td",[s._v("全局模式键入line vty 0 4")]),s._v(" "),a("td",{staticStyle:{"text-align":"center"}},[s._v("exit  end")])])])])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("常用命令")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Switch> enable\t\t\t\t\t进入特权模式\nSwitch# configure terminal\t\t进入全局模式\nSwitch(config)# hostname s1\t\t修改设备名为 s1\nSwitch# show version \t\t\t查看IOS版本、板卡型号\nSwitch# show interfaces status\t查看设备端口编号\nSwitch# show interfaces fastethernet 0/1\t显示0/1端口信息\nSwitch# show clock\t\t\t\t显示当前设备时间\nSwitch# show running-config \t显示当前设备所有配置信息\nSwitch# show startup-config \t显示当前设备保存的配置信息\nSwitch# write\t\t\t\t\t保存配置信息\nSwitch# erase startup-config\t清除当前设备保存的配置信息\nSwitch# reload\t\t\t\t\t设备重启\n\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])])])]),s._v(" "),a("h2",{attrs:{id:"实验1-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实验1-2"}},[s._v("#")]),s._v(" 实验1.2")]),s._v(" "),a("h3",{attrs:{id:"远程登录到交换机"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#远程登录到交换机"}},[s._v("#")]),s._v(" 远程登录到交换机")]),s._v(" "),a("ol",[a("li",[a("p",[a("strong",[s._v("设置IP地址")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("设置PC的IP地址1.1.1.2")])]),s._v(" "),a("li",[a("p",[s._v("配置交换机(Packet Tracer)")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Switch> enable\t\nSwitch# conf t  \t\t\t\t\t进入特权模式/配置视图\nSwitch(config)# interface vlan 1 \t进入对应的接口\nSwitch(config-if)# ip address 1.1.1.1 255.0.0.0\t设置IP\nSwitch(config-if)# no shutdown\t\t启动接口\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("在PC命令行测试")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("C:\\>ipconfig\t\t查看自己IP信息\nC:\\>ping 1.1.1.1\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])])])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("telnet链接")])]),s._v(" "),a("ul",[a("li",[a("p",[s._v("配置交换机(Packet Tracer)")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Switch(config)# line vty 0 15\nSwitch(config-line)# password 123\nSwitch(config-line)# login\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("在PC命令行测试")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("C:\\>telnet 1.1.1.1\nPassword:\nSwitch>enable\n% No password set\t没有设置密码 权限不够 不能进入特权模式\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("配置交换机 设置密码")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Switch(config-line)# exit\n设置密码 法一 \nSwitch(config)# enable secret 456\n设置密码 法二 \nSwitch(config)# enable password 789\n\nsecret加密密码 password非加密密码\n当存在两个密码 首选secret密码\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("在PC命令行测试")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("C:\\>telnet 1.1.1.1\nPassword:\nSwitch>enable\nSwitch#\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])])])])])]),s._v(" "),a("h3",{attrs:{id:"基于端口方式划分vlan"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#基于端口方式划分vlan"}},[s._v("#")]),s._v(" 基于端口方式划分VLAN")]),s._v(" "),a("p",[s._v("VLAN从逻辑上把一个VLAN交换机接口划分成3个VLAN")]),s._v(" "),a("ul",[a("li",[s._v("VLAN10\t 1~8")]),s._v(" "),a("li",[s._v("VLAN20     17~24")]),s._v(" "),a("li",[s._v("VLAN1        默认为此")])]),s._v(" "),a("h3",{attrs:{id:"packet-tracer"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#packet-tracer"}},[s._v("#")]),s._v(" Packet Tracer")]),s._v(" "),a("h4",{attrs:{id:"将pc划分到不同的vlan"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#将pc划分到不同的vlan"}},[s._v("#")]),s._v(" 将PC划分到不同的VLAN")]),s._v(" "),a("p",[s._v("Packet Tracer中设置拓扑结构")]),s._v(" "),a("p",[a("img",{attrs:{src:"https://img.wendangwang.com/pic/a54a786b7912ead831c56930/1-213-png_6_0_0_191_771_509_240_893.25_1263.375-453-0-0-453.jpg",alt:"将PC划分到不同的VLAN"}})]),s._v(" "),a("ol",[a("li",[a("p",[s._v("配置交换机 创建VLAN")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Switch> enable\nSwitch# conf t\nSwitch(config)# vlan 10\t\t\t\t\t创建VLAN 10\nSwitch(config-vlan)# name department1\t说明性文字 这个VLAN分给了哪个单位\nSwitch(config-vlan)# exit\nSwitch(config)# vlan 20\t\t\t\t\t创建VLAN 20\nSwitch(config-vlan)# name department2\nSwitch(config-vlan)# exit\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("将交换机端口分配到VLAN中")]),s._v(" "),a("blockquote",[a("p",[s._v("Access 类型的端口：只能属于1 个VLAN，一般用于连接计算机的端口；")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Switch# interface fastEthernet 0/1\nSwitch(config-if)# switchport access vlan 10\t\t\t将0/1端口(access类型)分给vlan 10\nSwitch(config-if)# no shutdown\nSwitch(config-if)# exit\nSwitch(config)# \nSwitch(config)# interface range fastEthernet 0/17 - fastEthernet 0/24\nSwitch(config-if-range)# switchport access vlan 20\t\t将0/17到0/24端口(access类型)分给vlan 20\nSwitch(config-if-range)# no shutdown\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("查看VLAN信息")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Switch# show vlan\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("删除VLAN信息（需要的话）")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Switch# configure terminal\nSwitch(config)# no vlan 20\t\t删除VLAN 20\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])])]),s._v(" "),a("h4",{attrs:{id:"跨多台交换机配一个vlan"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#跨多台交换机配一个vlan"}},[s._v("#")]),s._v(" 跨多台交换机配一个VLAN")]),s._v(" "),a("p",[s._v("Packet Tracer中设置拓扑结构")]),s._v(" "),a("img",{staticStyle:{zoom:"80%"},attrs:{src:"https://img-blog.csdnimg.cn/20181027224722889.png?x-oss-process=image/watermark,type_ZmFuZ3poZW5naGVpdGk,shadow_10,text_aHR0cHM6Ly9ibG9nLmNzZG4ubmV0L2xseHlibQ==,size_27,color_FFFFFF,t_70",alt:"端口聚合"}}),s._v(" "),a("ol",[a("li",[a("p",[s._v("配置两台交换机")]),s._v(" "),a("blockquote",[a("p",[s._v("Access 类型的端口：只能属于1 个VLAN，一般用于连接计算机的端口；")]),s._v(" "),a("p",[s._v("Trunk 类型的端口：可以允许多个VLAN 通过，可以接收和发送多个VLAN 的报文，一般用于交换机之间连接的端口")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Switch1> enable\nSwitch1# conf t\nSwitch1(config)# int f0/10\nSwitch1(config-if)# switchport mode trunk\t\t\t\t改变0/10端口模式\nSwitch1(config-if)# switchport trunk allowed vlan all\t允许通过的VLAN号\nSwitch1(config-if)# end\nSwitch1# show interface f 0/10 switchport\nSwitch1# show interface trunk\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Switch2> enable\nSwitch2# conf t\nSwitch2(config)# int f0/10\nSwitch2(config-if)# switchport mode trunk\t\t\t\t改变0/10端口模式\nSwitch2(config-if)# switchport trunk allowed vlan 10,20\t允许通过的VLAN号\nSwitch2(config-if)# exit\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("PC测试")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("C:\\> ipconfig\nC:\\> ping x.X.X.X\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])])]),s._v(" "),a("h4",{attrs:{id:"端口聚合"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#端口聚合"}},[s._v("#")]),s._v(" 端口聚合")]),s._v(" "),a("p",[s._v("Packet Tracer中设置拓扑结构")]),s._v(" "),a("img",{staticStyle:{zoom:"80%"},attrs:{src:"https://www.pianshen.com/images/472/0d8ba8d7733216d8972f993187c7b338.png",alt:"端口聚合"}}),s._v(" "),a("blockquote",[a("p",[s._v("多条线会阻塞，需要加到一个汇聚口里面")])]),s._v(" "),a("ol",[a("li",[a("p",[s._v("配置交换机")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Switch1# conf t\nSwitch1(config)# int range f0/10-11\nSwitch1(config-if-range)# channel-group 1 mode on\t汇聚到同一个组\n可能报错：10号口开放 11号口关闭 不兼容\n\tSwitch1(config-if-range)# exit\n\tSwitch1(config)# int f0/11\n\tSwitch1(config-if)# switchport mode trunk\t\t把11号口也改为trunk模式\n\tSwitch1(config-if)# exit\nSwitch1(config)#\nSwitch1(config)# int range f0/10-11\nSwitch1(config-if-range)# channel-group 1 mode on\t汇聚到同一个组\nSwitch1(config-if)# exit\nSwitch1(config)#\nSwitch1(config)# interface port-channel 1\t\t\t配置组\nSwitch1(config)# switchport mode trunk\t\t\t\t把整个组设置为trunk\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br"),a("span",{staticClass:"line-number"},[s._v("14")]),a("br"),a("span",{staticClass:"line-number"},[s._v("15")]),a("br")])]),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Switch2# conf t\nSwitch2(config)# int range f0/10-11\nSwitch2(config-if-range)# channel-group 1 mode on\nSwitch2(config-if-range)# exit\nSwitch2(config)# interface port-channel 1\t\t\t\nSwitch2(config)# switchport mode trunk\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("blockquote",[a("p",[s._v("以什么方式进行负载均衡(load-balance)")]),s._v(" "),a("p",[s._v("Switch(config)# port-channel load-balance dst-ip")]),s._v(" "),a("p",[s._v("dst-ip")]),s._v(" "),a("p",[s._v("dst-mac")]),s._v(" "),a("p",[s._v("Mac")])])]),s._v(" "),a("li",[a("p",[s._v("PC测试 / 交换机查看")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("C:\\> ipconfig\nC:\\> ping x.X.X.X\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Switch# show spanning-tree\nSwitch# show interface trunk\t\t查看trunk\nSwitch# show etherchannel summary\t查看端口汇聚\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])])])]),s._v(" "),a("h3",{attrs:{id:"huawei-ensp-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#huawei-ensp-2"}},[s._v("#")]),s._v(" Huawei eNSP")]),s._v(" "),a("h4",{attrs:{id:"交换机创建vlan"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#交换机创建vlan"}},[s._v("#")]),s._v(" 交换机创建VLAN")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("<Huawei> system-view\t\n[Huawei] vlan 2\n[Huawei-vlan2] description team1\n[Huawei-vlan2] vlan 3\n[Huawei-vlan3] description team2\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h4",{attrs:{id:"分配端口"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#分配端口"}},[s._v("#")]),s._v(" 分配端口")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[Huawei]interface Ethernet 0/0/1\n[Huawei-Ethernet0/0/1]port link-type access \n[Huawei-Ethernet0/0/1]port default vlan 2\n[Huawei]\n\n[Huawei]interface Ethernet 0/0/2\n[Huawei-Ethernet0/0/1]port link-type access \n[Huawei-Ethernet0/0/1]port default vlan 3\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("h4",{attrs:{id:"trunk端口配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#trunk端口配置"}},[s._v("#")]),s._v(" Trunk端口配置")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[Huawei]int e 0/0/8\n[Huawei-Ethernet0/0/8]port link-type trunk\n\n[Huawei-Ethernet0/0/8]port trunk allow-pass vlan all\n[Huawei-Ethernet0/0/8]port trunk allow-pass vlan 2 to 3 \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h4",{attrs:{id:"设置端口汇聚"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#设置端口汇聚"}},[s._v("#")]),s._v(" 设置端口汇聚")]),s._v(" "),a("blockquote",[a("p",[s._v("设置端口汇聚，要先将7/8端口trunk配置好")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[Huawei]interface Eth-Trunk 1\n[Huawei-Eth-Trunk1]mode manual load-balance \n[Huawei] interface Ethernet 0/0/7\n[Huawei-Ethernet0/0/7] eth-trunk 1\n[Huawei-Ethernet0/0/7] interface Ethernet 0/0/8\n[Huawei-Ethernet0/0/8] eth-trunk 1\n[Huawei-Ethernet0/0/8] return\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("h2",{attrs:{id:"实验2-1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实验2-1"}},[s._v("#")]),s._v(" 实验2.1")]),s._v(" "),a("h3",{attrs:{id:"vlan间路由"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#vlan间路由"}},[s._v("#")]),s._v(" VLAN间路由")]),s._v(" "),a("h4",{attrs:{id:"_1-设置pc机ip地址-网关地址"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_1-设置pc机ip地址-网关地址"}},[s._v("#")]),s._v(" 1.设置PC机IP地址，网关地址")]),s._v(" "),a("blockquote",[a("p",[s._v("网关地址 与 路由器所连"),a("strong",[s._v("接口")]),s._v("地址 一致")])]),s._v(" "),a("h4",{attrs:{id:"_2-设置路由器接口地址"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#_2-设置路由器接口地址"}},[s._v("#")]),s._v(" 2.设置路由器接口地址")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("roa(config)# int f0/0\nroa(config)# ip address 210.65.1.2 255.255.255.0\nroa(config)# no shutdown\nroa(config)# exit\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h4",{attrs:{id:"查错-测试"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#查错-测试"}},[s._v("#")]),s._v(" 查错 测试")]),s._v(" "),a("blockquote",[a("p",[s._v("PC 测试路由 查错")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("PCA\nC:\\> ping 210.65.1.2   //ping自己的网关\nC:\\> ping 210.66.1.2   //ping f0/1\nC:\\> ping 210.66.1.1   //ping PCB\nPCB\nC:\\> ping 210.66.1.2   //ping自己的网关\nC:\\> ping 210.65.1.2   //ping f0/0\nC:\\> ping 210.65.1.1   //ping PCA\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])]),a("blockquote",[a("p",[s._v("路由器查看")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("roa# show ip route   //显示IP路由表\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h4",{attrs:{id:"理论"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#理论"}},[s._v("#")]),s._v(" 理论")]),s._v(" "),a("p",[s._v("传统VLAN间路由")]),s._v(" "),a("p",[s._v("单臂路由器VLAN间路由")]),s._v(" "),a("p",[s._v("3层交互机上的VLAN间路由")]),s._v(" "),a("h3",{attrs:{id:"pt-单臂路由器vlan-间路由"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pt-单臂路由器vlan-间路由"}},[s._v("#")]),s._v(" PT - 单臂路由器VLAN 间路由")]),s._v(" "),a("ol",[a("li",[a("ul",[a("li",[s._v("在交换机上添加 VLAN")])]),s._v(" "),a("blockquote",[a("p",[s._v("在S1上创建 VLAN 10 和 VLAN 30。")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("S1(config)# vlan 10\nS1(config-vlan)# name VLAN10\nS1(config-vlan)# exit\nS1(config)# vlan 20\nS1(config-vlan)# name VLAN20\nS1(config-vlan)# exit\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])]),a("ul",[a("li",[s._v("把 VLAN 分配给端口")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("S1(config)# interface f0/11\nS1(config-if)# switchport mode access\nS1(config-if)# switchport access vlan 10\nS1(config-if)# no shut\nS1(config-if)# exit\n\nS1(config)# interface f0/6\nS1(config-if)# switchport mode access\nS1(config-if)# switchport access vlan 30\nS1(config-if)# no shut\nS1(config-if)# exit\n\nS2# show vlan brief\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("配置子接口")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("R1(config)# int g0/0.10\nR1(config-subif)# encapsulation dot1Q 10\nR1(config-subif)# ip address 172.17.10.1 255.255.255.0\n\nR1(config)# int g0/0.30\nR1(config-subif)# encapsulation dot1Q 30\nR1(config-subif)# ip address 172.17.30.1 255.255.255.0\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("blockquote",[a("p",[s._v("encapsulation dot1Q 10")]),s._v(" "),a("p",[s._v("dot1Q表示trunk类型")]),s._v(" "),a("p",[s._v("10表示和VALN10关联")])]),s._v(" "),a("blockquote",[a("p",[s._v("整个物理接口启动一下")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("R1(config)# interface g0/0\nR1(config-if)# no shut\nR1(config-if)# end\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("启用中继")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("S1(config)# interface f0/1\nS1(config-if)# switchport mode trunk\nS1(config-if)# no shut\nS1(config-if)# end\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("测试 VLAN 间路由的连通性")]),s._v(" "),a("p",[a("strong",[s._v("ping 一下")])])])]),s._v(" "),a("h3",{attrs:{id:"pt-3层交互机上的vlan间路由"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pt-3层交互机上的vlan间路由"}},[s._v("#")]),s._v(" PT-3层交互机上的VLAN间路由")]),s._v(" "),a("ul",[a("li",[a("p",[a("strong",[s._v("配置第 3 层交换")])]),s._v(" "),a("p",[s._v("在 MLS 上，把 G0/2 配置为路由端口，并根据地址分配表分配 IP 地址")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("MLS(config)# interface g0/2\nMLS(config-if)# no switchport\nMLS(config-if)# ip address 209.165.200.225 255.255.255.252\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("blockquote",[a("p",[s._v("通过 ping 209.165.200.226 来验证与 Cloud 的连通性")]),s._v(" "),a("p",[s._v("MLS# ping 209.165.200.226")])])]),s._v(" "),a("li",[a("p",[a("strong",[s._v("配置 VLAN 间路由")])])])]),s._v(" "),a("ol",[a("li",[a("p",[s._v("添加 VLAN,在 MLS 上配置 SVI")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("MLS(config)#vlan 10\nMLS(config-vlan)# name Staff\nMLS(config)#vlan 20\nMLS(config-vlan)# name Student\nMLS(config)#vlan 30\nMLS(config-vlan)# name Faculty\n\nMLS(config)# interface vlan 10\nMLS(config-if)# ip add 192.168.10.254 255.255.255.0\nMLS(config)# interface vlan 20\nMLS(config-if)# ip add 192.168.20.254 255.255.255.0\nMLS(config)# interface vlan 30\nMLS(config-if)# ip add 192.168.30.254 255.255.255.0\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("在MLS上配置中继")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("MLS(config)# interface g0/1\nMLS(config-if)# switchport mode trunk\nMLS(config-if)# switchport trunk native vlan 99 \t//本征valn设为99 为兼容一些早期设备，现在一般用的很少\nMLS(config-if)# switchport trunk encapsulation dot1q\t//使用dot1q协议封装链路\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("在S1上配置中继")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("S1(config)# int g0/1\nS1(config-if)# switchport mode trunk\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("启用路由")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("MLS(config)# ip routing\n\nMLS# show ip route  //验证路由转发功能已经启用\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("ping 一下")])])]),s._v(" "),a("ul",[a("li",[a("strong",[s._v("配置 IPv6 VLAN 间 路由")])])]),s._v(" "),a("ol",[a("li",[a("p",[s._v("启用 IPv6 路由")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("MLS(config)# ipv6 unicast-routing\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("在 MLS 上给 SVI 配置 IPv6。")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("MLS(config)# interface vlan 10\nMLS(config-if)# ipv6 address 2001:db8:acad:10::1/64\n\nMLS(config)# interface vlan 20\nMLS(config-if)# ipv6 address 2001:db8:acad:20::1/64\n\nMLS(config)# interface vlan 30\nMLS(config-if)# ipv6 address 2001:db8:acad:30::1/64\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("在 MLS 上给 G0/2 配置 IPv6")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("MLS(config)# interface G0/2\nMLS(config-if)# ipv6 address 2001:db8:acad:a::1/64\n//使用命令show ipv6 route 验证 IPv6 互联 网络。\nMLS# show ipv6 route\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("ping 一下")])])]),s._v(" "),a("h3",{attrs:{id:"ensp-单臂路由器vlan-间路由"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ensp-单臂路由器vlan-间路由"}},[s._v("#")]),s._v(" ensp - 单臂路由器VLAN 间路由")]),s._v(" "),a("h3",{attrs:{id:"ensp-3层交互机上的vlan间路由"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ensp-3层交互机上的vlan间路由"}},[s._v("#")]),s._v(" ensp-3层交互机上的VLAN间路由")]),s._v(" "),a("h2",{attrs:{id:"实验2-1-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实验2-1-2"}},[s._v("#")]),s._v(" 实验2.1")]),s._v(" "),a("h3",{attrs:{id:"下一跳静态路由"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#下一跳静态路由"}},[s._v("#")]),s._v(" 下一跳静态路由")]),s._v(" "),a("blockquote",[a("p",[s._v("仅能指定下一跳的IP地址")]),s._v(" "),a("p",[s._v("出站接口是从下一跳获得的")])]),s._v(" "),a("p",[a("strong",[s._v("IPv4")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("//ip route 网络 掩码 下一跳的IP地址\nR1(config)# ip route 172.16.1.0 255.255.255.0 172.16.2.2\nR1(config)# ip route 192.168.1.0 255.255.255.0 172.16.2.2\nR1(config)# ip route 192.168.2.0 255.255.255.0 172.16.2.2\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[a("strong",[s._v("IPv6")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("R1(config)# ipv6 unicast-routing\n//ipv6 route 网络 掩码 下一跳的IP地址\nR1(config)# ipv6 route 2001:db6:acad:1::/64  2001:db6:acad:2::2\nR1(config)# ipv6 route 2001:db8:cafe:1::/64  2001:db6:acad:2::2\nR1(config)# ipv6 route 2001:db8:cafe:2::/64  2001:db6:acad:2::2\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"直连静态路由"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#直连静态路由"}},[s._v("#")]),s._v(" 直连静态路由")]),s._v(" "),a("blockquote",[a("p",[s._v("使用 出站接口 指定下一跳路由")])]),s._v(" "),a("blockquote",[a("p",[s._v("一般"),a("strong",[s._v("建议使用")]),s._v(" 下一跳地址")]),s._v(" "),a("p",[s._v("直连静态路由只应该用于 "),a("strong",[s._v("点到点串行接口")])])]),s._v(" "),a("p",[a("strong",[s._v("IPv4")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("//ip route 网络 掩码 出站接口\nR1(config)# ip route 172.16.1.0 255.255.255.0 s0/1/0\nR1(config)# ip route 192.168.1.0 255.255.255.0 s0/1/0\nR1(config)# ip route 192.168.2.0 255.255.255.0 s0/1/0\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[a("strong",[s._v("IPv6")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("//ipv6 route 网络 掩码 下一跳的IP地址\nR1(config)# ipv6 route 2001:db6:acad:1::/64  s0/1/0\nR1(config)# ipv6 route 2001:db8:cafe:1::/64  s0/1/0\nR1(config)# ipv6 route 2001:db8:cafe:2::/64  s0/1/0\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h3",{attrs:{id:"完全指定静态路由"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#完全指定静态路由"}},[s._v("#")]),s._v(" 完全指定静态路由")]),s._v(" "),a("blockquote",[a("p",[s._v("同时指定 "),a("strong",[s._v("出站接口")]),s._v(" 和 "),a("strong",[s._v("下一跳IP地址")])])]),s._v(" "),a("blockquote",[a("p",[s._v("是否使用 出站接口 是可选的，但 下一跳地址 必须使用")]),s._v(" "),a("p",[s._v("建议 当出站接口为以太网，设置静态路由时包含 下一跳地址，")]),s._v(" "),a("p",[s._v("也可使用 完全指定静态路由 同时指定 出站接口 和 下一跳IP地址")])]),s._v(" "),a("p",[a("strong",[s._v("IPv4")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("//ip route 网络 掩码 出站接口 下一跳的IP地址\nR1(config)# ip route 172.16.1.0 255.255.255.0 GigabitEthernet 0/0/1 172.16.2.2\nR1(config)# ip route 192.168.1.0 255.255.255.0 GigabitEthernet 0/0/1 172.16.2.2\nR1(config)# ip route 192.168.2.0 255.255.255.0 GigabitEthernet 0/0/1 172.16.2.2\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[a("strong",[s._v("IPv6")])]),s._v(" "),a("blockquote",[a("p",[s._v("IPv6完全指定静态路由 必须指定 出站接口 才能确定 IPv6链路本地地址")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("✖\nR1(config)# ipv6 route  2001:db8:cafe:1::/64 fe80::2\n报错%Interface has no be specified for a link-local nexthop\n✔\nR1(config)# ipv6 route  2001:db8:cafe:1::/64 s0/1/0 fe80::2\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"验证静态路由"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#验证静态路由"}},[s._v("#")]),s._v(" 验证静态路由")]),s._v(" "),a("blockquote",[a("p",[s._v("show ip route")]),s._v(" "),a("p",[s._v("show ipv6 route")]),s._v(" "),a("p",[s._v("ping")]),s._v(" "),a("p",[s._v("traceroute\t//经过的所有的路由器IP")]),s._v(" "),a("p",[s._v("show ip route static\t\t//显示静态路由")]),s._v(" "),a("p",[s._v("show ip route "),a("em",[s._v("network")]),s._v("\t//显示network网络的路由")]),s._v(" "),a("p",[s._v("show running-config | section ip route")])]),s._v(" "),a("h3",{attrs:{id:"默认静态路由"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#默认静态路由"}},[s._v("#")]),s._v(" 默认静态路由")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("ipv4\nR1(config)# ip route 0.0.0.0 0.0.0.0 172.16.2.2\nipv6\nR1(config)# ipv6 route ::/0 2001:db8:acad:2::2\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("h3",{attrs:{id:"pt-实验"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pt-实验"}},[s._v("#")]),s._v(" PT-实验")]),s._v(" "),a("p",[s._v("配置 IPv4 静态和 浮动静态默认路由")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Edge_Router(config)# ip route 0.0.0.0 0.0.0.0 s0/0/0\nEdge_Router(config)# ip route 0.0.0.0 0.0.0.0 s0/0/1 5\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("配置 IPv6 静态和 浮动静态默认路由")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Edge_Router(config)# ipv6 route ::/0 2001:db8:a:1::1\nEdge_Router(config)# ipv6 route ::/0 2001:db8:a:2::1 5\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("配置指向内部 LAN 的 IPv4 静态和 浮动静态路由")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("ISP1(config)# ip route 192.168.10.16 255.255.255.240 10.10.10.2\nISP1(config)# ip route 192.168.11.32 255.255.255.224 10.10.10.2\n\nISP1(config)# ip route 192.168.10.16 255.255.255.240 s0/0/0 5\nISP1(config)# ip route 192.168.11.32 255.255.255.224 s0/0/0 5\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("配置去往内部 LAN 的 IPv6 静态和浮动 静态路由")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("ISP1(config)# ipv6 route 2001:db8:1:10::/64 2001:db8:a:1::2\nISP1(config)# ipv6 route 2001:db8:1:11::/64 2001:db8:a:1::2\n\nISP1(config)# ipv6 route 2001:db8:1:10::/64 2001:db8:a:2::1/64 5\nISP1(config)# ipv6 route 2001:db8:1:11::/64 2001:db8:a:2::1/64 5\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("p",[s._v("配置 IPv4 主机路由")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("Edge_Router(config)# ip route 198.0.0.10 255.255.255.255 s0/0/0\nEdge_Router(config)# ip route 198.0.0.10 255.255.255.255 s0/0/1 5\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("p",[s._v("配置 IPv6 主机路由")]),s._v(" "),a("p",[s._v(".......")]),s._v(" "),a("h3",{attrs:{id:"huawei-ensp-实验"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#huawei-ensp-实验"}},[s._v("#")]),s._v(" Huawei ensp-实验")]),s._v(" "),a("h4",{attrs:{id:"静态路由及默认路由基本配置"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#静态路由及默认路由基本配置"}},[s._v("#")]),s._v(" 静态路由及默认路由基本配置")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("配置各个端口IP")])]),s._v(" "),a("li",[a("p",[s._v("R1")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[R1] ip route-static 192.168.20.0 24 10.0.12.2\n[R1] ip route-static 10.0.23.0 24 10.0.12.2\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("R2")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[R2] ip route-static 192.168.20.0 24 10.0.23.3\n[R2] ip route-static 192.168.10.0 24 Serial 1/0/1\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("R3")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[R3] ip route-static 192.168.10.0 24 Serial 1/0/1\n[R3] ip route-static 10.0.12.0 24 Serial 1/0/1\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("ping 测试")])])]),s._v(" "),a("h4",{attrs:{id:"浮动路由及负载均衡"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#浮动路由及负载均衡"}},[s._v("#")]),s._v(" 浮动路由及负载均衡")]),s._v(" "),a("ol",[a("li",[a("p",[s._v("配置各个端口IP")])]),s._v(" "),a("li",[a("p",[s._v("配置路由")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[R1] ip route-static 192.168.20.0 24 10.0.13.3\n[R2] ip route-static 192.168.20.0 24 10.0.23.3\n[R2] ip route-static 192.168.10.0 24 10.0.12.1\n[R3] ip route-static 192.168.10.0 24 10.0.13.1\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("blockquote",[a("p",[s._v("ping 192.168.20.20")]),s._v(" "),a("p",[s._v("tracert 192.168.20.20    检查经过的所有网关")]),s._v(" "),a("p",[s._v("R2 ping PC1、PC2 =>R2是否可访问PC1/2网络")])])]),s._v(" "),a("li",[a("p",[s._v("配置浮动路由实现路由备份")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[R1] ip route-static 192.168.20.0 24 10.0.12.2 preference 100\n[R1] display ip routing-table protocol static\n\n[R3] ip route-static 192.168.10.0 24 10.0.23.2 preference 100\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("p",[s._v("在R1中关闭S1/0/1接口，验证 路由备份 是否启用")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("[R1] int s1/0/1\n[R1-Serial1/0/1] shutdown\n\n[R1] display ip routing-table\n[R1] display ip routing-table protocol static\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("blockquote",[a("p",[s._v("PC1 ping PC2 => 路由备份启用")])])]),s._v(" "),a("li",[a("p",[s._v("负载均衡 优化网络")]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("开启S1/0/1接口\n[R1] int s1/0/1\n[R1-Serial1/0/1] undo shutdown\n[R1] ip route-static 192.168.20.0 24 10.0.12.2\n\n[R3] ip route-static 192.168.10.0 24 10.0.23.2\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br")])])]),s._v(" "),a("li",[a("p",[s._v("ping tracert 测试")])])]),s._v(" "),a("h2",{attrs:{id:"实验3-1"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实验3-1"}},[s._v("#")]),s._v(" 实验3.1")]),s._v(" "),a("h3",{attrs:{id:"rip"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#rip"}},[s._v("#")]),s._v(" RIP")]),s._v(" "),a("blockquote",[a("p",[a("strong",[s._v("C类")]),s._v("地址 缺省 network "),a("strong",[s._v("192.168.1.0")])]),s._v(" "),a("p",[a("strong",[s._v("A类")]),s._v("地址 缺省 network  "),a("strong",[s._v("10.0.0.0")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("R1# conft\nR1(config)# router rip\nR1(config-router)# network 192.168.1.0\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("blockquote",[a("p",[s._v("检验 RIP")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("R1# show ip protocols\nR1# show ip route| begin Gateway    // R开头 RIP协议\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("blockquote",[a("p",[s._v("启用 "),a("strong",[s._v("RIPv2")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("R1(config)# router rip\nR1(config-router)# version 2\n//查看版本\nR1# show ip protocols\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br")])]),a("blockquote",[a("p",[s._v("禁用 "),a("strong",[s._v("自动汇总")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("R1(config)# router rip\nR1(config-router)# no auto-summary\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("blockquote",[a("p",[s._v("配置 "),a("strong",[s._v("被动接口")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("R1(config)# router rip\nR1(config-router)# passive-interface g0/0\t//把 g0/0 接口配置 被动接口\nR1(config-router)# end\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("blockquote",[a("p",[s._v("配置 "),a("strong",[s._v("传播默认路由")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("R1(config)# ip route 0.0.0.0 0.0.0.0 s0/0/1 209.165.200.226\nR1(config)# router rip\nR1(config-router)# default-information originate\n\nR1# show ip route| begin Gateway\t//s* 开头 为传播默认路由\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("h3",{attrs:{id:"ospf"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ospf"}},[s._v("#")]),s._v(" OSPF")]),s._v(" "),a("blockquote",[a("ol",[a("li",[a("p",[s._v("单区域")])]),s._v(" "),a("li",[a("p",[s._v("多区域")])]),s._v(" "),a("li",[a("p",[s._v("DP 和 BDR 选举")])])])]),s._v(" "),a("blockquote",[a("p",[s._v("设定 "),a("strong",[s._v("路由器 ID号")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("R1(config)# router ospf 10\nR1(config-router)# router-id 1.1.1.1\nR1(config-router)# end\n要是ID更改生效 不要忘了此命令\nR1# clear ip ospf process\ny\nR1# show ip protocols | section Router ID\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br")])]),a("blockquote",[a("p",[a("strong",[s._v("环回接口")]),s._v(" 设定 "),a("strong",[s._v("路由器 ID号")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("R1(config)# interface loopback 0\nR1(config-if)# ip address 1.1.1.1 255.255.255.255 \n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br")])]),a("blockquote",[a("p",[s._v("在接口上，启用OSPF")]),s._v(" "),a("p",[a("strong",[s._v("wildcard_mask")]),s._v(" 通配符掩码  子网掩码取反")]),s._v(" "),a("p",[s._v("255.255.225.0\t->\t0.0.0.255")]),s._v(" "),a("p",[s._v("255.255.255.192\t-> 0.0.0.063")]),s._v(" "),a("p",[a("strong",[s._v("area-id")]),s._v(" 单区域一般为 0")])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("R1(config)# router ospf x\nR1(config-router)# network x.x.x.x wildcard_mask area area-id\n\n传统方法\nR1(config)# router ospf 10\nR1(config-router)# network 172.16.1.0 0.0.0.255 area 0\nR1(config-router)# network 172.16.3.0 0.0.0.3 area 0\nR1(config-router)# network 192.168.10.4 0.0.0.3 area 0\n法2\nR1(config)# router ospf 10\nR1(config-router)# network 172.16.1.1 0.0.0.0 area 0\nR1(config-router)# network 172.16.3.1 0.0.0.0 area 0\nR1(config-router)# network 192.168.10.5 0.0.0.0 area 0\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br"),a("span",{staticClass:"line-number"},[s._v("10")]),a("br"),a("span",{staticClass:"line-number"},[s._v("11")]),a("br"),a("span",{staticClass:"line-number"},[s._v("12")]),a("br"),a("span",{staticClass:"line-number"},[s._v("13")]),a("br")])]),a("blockquote",[a("p",[s._v("配置 "),a("strong",[s._v("被动接口")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("R1(config)# router ospf\nR1(config-router)# passive-interface g0/0\t//把 g0/0 接口配置 被动接口\nR1(config-router)# end\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br")])]),a("blockquote",[a("p",[a("strong",[s._v("调整接口带宽")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("R1(config)# interface s0/0/1\nR1(config-if)# bandwidth 64\n\nR2(config)# interface s0/0/1\nR2(config-if)# bandwidth 1024\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br")])]),a("blockquote",[a("p",[a("strong",[s._v("手动设置 OSPF 开销")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("//关闭 之前 调整的接口带宽\nR1(config)# interface s0/0/1\nR1(config-if)# no bandwidth 64\n//手动设置 OSPF 开销\nR1(config)# int s0/0/1\nR1(config-if)# ip ospf cost 15625\n\nR2(config)# int s0/0/1\nR2(config-if)# ip ospf cost 976\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br"),a("span",{staticClass:"line-number"},[s._v("2")]),a("br"),a("span",{staticClass:"line-number"},[s._v("3")]),a("br"),a("span",{staticClass:"line-number"},[s._v("4")]),a("br"),a("span",{staticClass:"line-number"},[s._v("5")]),a("br"),a("span",{staticClass:"line-number"},[s._v("6")]),a("br"),a("span",{staticClass:"line-number"},[s._v("7")]),a("br"),a("span",{staticClass:"line-number"},[s._v("8")]),a("br"),a("span",{staticClass:"line-number"},[s._v("9")]),a("br")])]),a("blockquote",[a("p",[s._v("验证 "),a("strong",[s._v("OSPF 邻居")])])]),s._v(" "),a("div",{staticClass:"language- line-numbers-mode"},[a("pre",{pre:!0,attrs:{class:"language-text"}},[a("code",[s._v("R1# show ip ospf neighbor\n")])]),s._v(" "),a("div",{staticClass:"line-numbers-wrapper"},[a("span",{staticClass:"line-number"},[s._v("1")]),a("br")])]),a("h3",{attrs:{id:"pt-实验-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pt-实验-2"}},[s._v("#")]),s._v(" PT-实验")]),s._v(" "),a("h3",{attrs:{id:"ensp-实验"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ensp-实验"}},[s._v("#")]),s._v(" eNSP-实验")]),s._v(" "),a("h2",{attrs:{id:"实验3-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#实验3-2"}},[s._v("#")]),s._v(" 实验3.2")]),s._v(" "),a("h3",{attrs:{id:"pt-实验-3"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#pt-实验-3"}},[s._v("#")]),s._v(" PT-实验")]),s._v(" "),a("h3",{attrs:{id:"ensp-实验-2"}},[a("a",{staticClass:"header-anchor",attrs:{href:"#ensp-实验-2"}},[s._v("#")]),s._v(" eNSP-实验")])])}),[],!1,null,null,null);a.default=e.exports}}]);